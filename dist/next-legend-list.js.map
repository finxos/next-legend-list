{"version":3,"sources":["next-legend-list.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"next-legend-list.js","sourcesContent":["function _getRawLegendList(option) {\n  var legendList = [],\n    _colorList = '';\n  if (!option.hasOwnProperty('legend') || !option.hasOwnProperty('series')) return []; //剔除不含图例的图\n  if (option.hasOwnProperty('color') && Array.isArray(option.color)) _colorList = option.color;\n  if (Array.isArray(option.legend)) {\n    //legend是一个数组，暂时出现在饼图中\n    if (option.legend[0] && option.legend[0].hasOwnProperty('data')) {\n      legendList = _getRawNameColorList(option.legend[0].data, _colorList);\n    }\n  } else {\n    //legend是一个对象\n    if (!option.legend.hasOwnProperty('data')) return [];\n    legendList = _getRawNameColorList(option.legend.data, _colorList); //获取nameList\n  }\n  legendList = _getRawType(option.series, legendList);\n  return legendList;\n}\n\nfunction _getMiaotuLegendList(option) {\n  if (!option.chartOption) {\n    return [];\n  }\n  var _option = option.chartOption;\n  if (!_option.seriesList) return [];\n  var seriesList = [];\n  _option.seriesList.forEach(function(seriesItem) {\n    if (seriesItem.show !== false) {\n      seriesList.push({\n        type: seriesItem.chartType,\n        name: seriesItem.name,\n        color: seriesItem.color\n      });\n    }\n  });\n  return seriesList;\n}\n\nfunction _getRawNameColorList(legendDataList, colorList) {\n  return legendDataList.map(function(legendItem, legendIndex) {\n    var _name = '';\n    if (typeof legendItem === 'object') {\n      _name = legendItem.name;\n    } else {\n      _name = legendItem;\n    }\n    return {\n      name: _name,\n      color: colorList && colorList[legendIndex] ? colorList[legendIndex] : ''\n    };\n  });\n}\n\nfunction _getRawType(series, legendList) {\n  series.forEach(function(seriesItem) {\n    if (\n      seriesItem.type == 'line' ||\n      seriesItem.type == 'bar' ||\n      seriesItem.type == 'map' ||\n      seriesItem.type == 'scatter'\n    ) {\n      //适用于line, bar, scatter, map\n      legendList.forEach(function(legendItem) {\n        if (legendItem.name === seriesItem.name) {\n          legendItem.type = seriesItem.type;\n          legendItem.color = seriesItem.color\n            ? seriesItem.color\n            : seriesItem.itemStyle && seriesItem.itemStyle.color\n            ? seriesItem.itemStyle.color\n            : legendItem.color;\n        }\n      });\n    }\n    if (seriesItem.type == 'pie') {\n      seriesItem.data.forEach(function(sDataItem) {\n        legendList.forEach(function(legendItem) {\n          if (sDataItem.name == legendItem.name) {\n            legendItem.type = 'pie';\n            legendItem.color =\n              sDataItem.itemStyle && sDataItem.itemStyle.color\n                ? sDataItem.itemStyle.color\n                : legendItem.color;\n          }\n        });\n      });\n    }\n    if (seriesItem.type == 'funnel') {\n      //itemStyle.color\n    }\n    if (seriesItem.type == 'sankey') {\n      //itemStyle.color\n    }\n    if (seriesItem.type == 'lines') {\n    }\n    if (seriesItem.type == 'parallel') {\n    }\n    if (seriesItem.type == 'candlestick') {\n    }\n  });\n  return legendList;\n}\n(function() {\n  var global = global || this || window || Function('return this')();\n  var nx = global.nx || require('next-js-core2');\n\n  nx.legendList = function(option) {\n    var legendList = []; //{type, name, color}\n    if (option.format === 'raw') {\n      legendList = _getRawLegendList(option);\n    } else {\n      legendList = _getMiaotuLegendList(option);\n    }\n    return legendList;\n  };\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = nx.legendList;\n  }\n})();\n"]}